<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Morphing Survey</title>
<style>
  body { text-align: center; font-family: sans-serif; }
  img { width: 350px; height: auto; }
</style>
</head>
<body>

<h2>どの形がいちばん好みですか？</h2>

<p>スライダーを動かして、好きな形を選んでください</p>

<img id="morphImage" src="morph_frames/morph_000.png">

<br><br>

<input type="range" id="slider" min="0" max="100" value="0">

<p>選択中： <span id="alphaValue">0</span>%</p>

<button onclick="submitAnswer()">回答を送信</button>

<script>
const slider = document.getElementById("slider");
const img = document.getElementById("morphImage");
const alphaText = document.getElementById("alphaValue");

// スライダー動作
slider.oninput = () => {
    alphaText.textContent = slider.value;
    img.src = `morph_frames/morph_${String(slider.value).padStart(3, "0")}.png`;
};

// ===============================
// ★ Googleフォームへ直接送信（CORS 100%回避）
// ===============================
function submitAnswer() {
    const alpha = slider.value;

    // ★ あなたの Google フォームの formResponse URL
    const formUrl =
      "https://docs.google.com/forms/d/e/1FAIpQLScZVpW-JOWAQhF7QFdypK_TjTjDm3vWAptT5UxrAwVLUJ8b2A/formResponse";

    const formData = new FormData();

    // ★ あなたのフォームの entry ID（alpha を送る欄）
    formData.append("entry.743902396", alpha);

    // ★ Googleフォームは CORS 無視なので no-cors でOK
    fetch(formUrl, {
        method: "POST",
        mode: "no-cors",
        body: formData
    });

    alert("回答ありがとうございました！");
}
</script>

</body>
</html>
